<!DOCTYPE html>
<html>
<head>
    <title>Test Analytics JavaScript</title>
</head>
<body>
    <h1>Testing Analytics JavaScript</h1>
    <script>
    // Test if there are any syntax errors in the JavaScript
    fetch('http://127.0.0.1:8000/admin/analytics')
        .then(response => response.text())
        .then(html => {
            console.log('✓ Analytics page loaded successfully');
            
            // Check for JavaScript syntax errors
            const scriptMatch = html.match(/<script[^>]*>([\s\S]*?)<\/script>/g);
            if (scriptMatch) {
                console.log('✓ JavaScript sections found:', scriptMatch.length);
                
                // Check for common syntax errors
                const combinedScript = scriptMatch.join('\n');
                if (combinedScript.includes('Unexpected token')) {
                    console.error('✗ Syntax error detected');
                } else {
                    console.log('✓ No obvious syntax errors');
                }
            }
            
            // Test specific function calls
            if (html.includes('function changeChartPeriod')) {
                console.log('✓ changeChartPeriod function found');
            }
            if (html.includes('function loadAnalyticsData')) {
                console.log('✓ loadAnalyticsData function found');
            }
            if (html.includes('function showLoadingSpinner')) {
                console.log('✓ showLoadingSpinner function found');
            }
        })
        .catch(error => {
            console.error('✗ Error loading analytics page:', error);
        });
    </script>
</body>
</html>
