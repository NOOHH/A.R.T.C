<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Upload Visual Confirmation Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* Custom File Display Styles */
        .custom-file-display {
            margin-top: 0.5rem;
            animation: fadeIn 0.3s ease-in;
        }
        
        .uploaded-file-container {
            transition: all 0.3s ease;
            border: 2px dashed #198754 !important;
            background: linear-gradient(135deg, #d1e7dd 0%, #f8f9fa 100%) !important;
        }
        
        .uploaded-file-container:hover {
            box-shadow: 0 4px 8px rgba(25, 135, 84, 0.15);
            transform: translateY(-1px);
        }
        
        .file-icon i {
            animation: bounceIn 0.6s ease;
        }
        
        .file-name {
            color: #198754 !important;
            font-size: 0.95rem;
        }
        
        .file-details {
            font-size: 0.85rem;
            margin-top: 2px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes bounceIn {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <h2 class="text-center mb-4">File Upload Visual Confirmation Test</h2>
                
                <div class="card">
                    <div class="card-body">
                        <form id="testForm">
                            <div class="mb-3">
                                <label for="diploma" class="form-label">Upload Diploma</label>
                                <input type="file" class="form-control" id="diploma" name="diploma" accept=".pdf,.jpg,.jpeg,.png">
                                <small class="form-text text-muted">Upload your diploma (FILE only)</small>
                            </div>
                            
                            <div class="mb-3">
                                <label for="school_id" class="form-label">Upload School ID</label>
                                <input type="file" class="form-control" id="school_id" name="school_id" accept=".pdf,.jpg,.jpeg,.png">
                                <small class="form-text text-muted">Upload your school ID (FILE only)</small>
                            </div>
                            
                            <button type="button" class="btn btn-primary" onclick="simulateUpload('diploma')">Simulate Diploma Upload</button>
                            <button type="button" class="btn btn-success" onclick="simulateUpload('school_id')">Simulate School ID Upload</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function simulateUpload(fieldName) {
            const inputElement = document.getElementById(fieldName);
            
            // Simulate successful upload
            const originalFileName = "sample_" + fieldName + ".pdf";
            const originalFileSize = 1024 * 500; // 500KB
            
            // Hide the original file input completely
            inputElement.style.display = 'none';
            
            // Create or update custom file display
            let customFileDisplay = document.getElementById('custom-' + fieldName);
            if (!customFileDisplay) {
                customFileDisplay = document.createElement('div');
                customFileDisplay.id = 'custom-' + fieldName;
                customFileDisplay.className = 'custom-file-display';
                inputElement.parentNode.appendChild(customFileDisplay);
            }
            
            customFileDisplay.innerHTML = `
                <div class="uploaded-file-container p-3 border rounded bg-success bg-opacity-10 border-success">
                    <div class="d-flex align-items-center">
                        <div class="file-icon me-3">
                            <i class="fas fa-file-upload text-success" style="font-size: 1.5rem;"></i>
                        </div>
                        <div class="file-info flex-grow-1">
                            <div class="file-name fw-bold text-success">
                                <i class="fas fa-check-circle me-1"></i>
                                ${originalFileName}
                            </div>
                            <div class="file-details text-muted small">
                                Size: ${(originalFileSize / 1024).toFixed(1)} KB ‚Ä¢ 
                                Status: <span class="text-success">Validated ‚úì</span>
                            </div>
                        </div>
                        <div class="file-actions">
                            <button type="button" class="btn btn-outline-danger btn-sm" 
                                onclick="removeUploadedFile('${fieldName}')" title="Remove and upload different file">
                                <i class="fas fa-times me-1"></i> Remove
                            </button>
                        </div>
                    </div>
                </div>
            `;
            customFileDisplay.style.display = 'block';
            
            console.log('‚úÖ Custom file display shown for:', fieldName);
        }
        
        function removeUploadedFile(fieldName) {
            console.log('üóëÔ∏è Removing uploaded file for:', fieldName);
            
            // Hide custom file display
            const customFileDisplay = document.getElementById('custom-' + fieldName);
            if (customFileDisplay) {
                customFileDisplay.style.display = 'none';
                console.log('‚úÖ Hidden custom file display');
            }
            
            // Show the original file input again and clear it
            const fileInput = document.getElementById(fieldName);
            if (fileInput) {
                fileInput.style.display = 'block'; // Show the input again
                fileInput.value = ''; // Clear the file selection
                fileInput.classList.remove('is-valid', 'is-invalid'); // Reset validation styles
                console.log('‚úÖ Restored and cleared original file input');
            }
            
            console.log('‚úÖ File removal completed for:', fieldName);
        }
    </script>
</body>
</html>
