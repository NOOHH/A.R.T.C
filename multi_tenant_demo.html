<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Tenant Customization Demo</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; margin: 0; padding: 20px; background: #f8fafc; }
        .container { max-width: 1400px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 30px; }
        .demo-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; }
        .panel { background: white; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.07); overflow: hidden; }
        .panel-header { background: #667eea; color: white; padding: 20px; font-weight: 600; }
        .panel-body { padding: 20px; }
        .login-preview { height: 300px; background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%); color: white; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; position: relative; }
        .review-text { font-size: 24px; font-weight: bold; margin-bottom: 20px; line-height: 1.3; }
        .copyright { position: absolute; bottom: 15px; font-size: 11px; opacity: 0.9; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; font-weight: 500; margin-bottom: 5px; color: #374151; }
        .form-group input, .form-group textarea { width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; }
        .form-group input[type="color"] { height: 40px; padding: 2px; }
        .btn { background: #4f46e5; color: white; border: none; padding: 10px 16px; border-radius: 6px; cursor: pointer; font-weight: 500; }
        .btn:hover { background: #4338ca; }
        .status-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px; }
        .status-item { padding: 8px 12px; border-radius: 6px; font-size: 12px; font-weight: 500; }
        .status-success { background: #dcfce7; color: #166534; }
        .status-warning { background: #fef3c7; color: #92400e; }
        .status-error { background: #fee2e2; color: #dc2626; }
        .code-preview { background: #1f2937; color: #f9fafb; padding: 15px; border-radius: 6px; font-family: monospace; font-size: 12px; overflow-x: auto; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè¢ Multi-Tenant Login Customization System</h1>
            <p>Interactive demonstration of tenant-specific login page customization</p>
        </div>
        
        <div class="demo-grid">
            <!-- Customization Controls -->
            <div class="panel">
                <div class="panel-header">üé® Customization Controls</div>
                <div class="panel-body">
                    <div class="form-group">
                        <label>Review Text:</label>
                        <textarea id="reviewText" rows="3">Train Smarter.\nAchieve Better.\nExcel Faster.</textarea>
                    </div>
                    <div class="form-group">
                        <label>Copyright Text:</label>
                        <textarea id="copyrightText" rows="2">¬© 2024 Advanced Training.\nEmpowering Excellence.</textarea>
                    </div>
                    <div class="form-group">
                        <label>Top Gradient Color:</label>
                        <input type="color" id="topColor" value="#4f46e5">
                    </div>
                    <div class="form-group">
                        <label>Bottom Gradient Color:</label>
                        <input type="color" id="bottomColor" value="#7c3aed">
                    </div>
                    <div class="form-group">
                        <label>Text Color:</label>
                        <input type="color" id="textColor" value="#ffffff">
                    </div>
                    <button class="btn" onclick="updatePreview()">üîÑ Update Preview</button>
                    
                    <div class="status-grid">
                        <div class="status-item status-success">‚úÖ Auth Form</div>
                        <div class="status-item status-success">‚úÖ Tenant DB</div>
                        <div class="status-item status-warning">‚ö†Ô∏è Navigation</div>
                        <div class="status-item status-success">‚úÖ Preview</div>
                    </div>
                </div>
            </div>
            
            <!-- Live Preview -->
            <div class="panel">
                <div class="panel-header">üëÄ Live Preview</div>
                <div class="panel-body" style="padding: 0;">
                    <div class="login-preview" id="previewPanel">
                        <div class="review-text" id="previewReview">
                            Train Smarter.<br>Achieve Better.<br>Excel Faster.
                        </div>
                        <div class="copyright" id="previewCopyright">
                            ¬© 2024 Advanced Training.<br>Empowering Excellence.
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Technical Implementation -->
            <div class="panel">
                <div class="panel-header">‚öôÔ∏è Technical Implementation</div>
                <div class="panel-body">
                    <h6>Database Structure:</h6>
                    <div class="code-preview">
smartprep (main)
‚îú‚îÄ‚îÄ clients (tenant info)
‚îú‚îÄ‚îÄ tenants (tenant config)
‚îî‚îÄ‚îÄ smartprep_test (tenant DB)
    ‚îú‚îÄ‚îÄ ui_settings
    ‚îú‚îÄ‚îÄ users
    ‚îî‚îÄ‚îÄ ...
                    </div>
                    
                    <h6 style="margin-top: 15px;">Current Client:</h6>
                    <div class="code-preview">
ID: 15
Name: test
Slug: test
Database: smartprep_test
Domain: test.smartprep.local
                    </div>
                    
                    <h6 style="margin-top: 15px;">Key Features:</h6>
                    <ul style="font-size: 13px; margin: 10px 0;">
                        <li>‚úÖ Tenant-specific databases</li>
                        <li>‚úÖ Settings in ui_settings table</li>
                        <li>‚úÖ TenantContextHelper loads settings</li>
                        <li>‚úÖ Login template applies customizations</li>
                        <li>‚ö†Ô∏è Advanced tab navigation needs fix</li>
                    </ul>
                    
                    <h6 style="margin-top: 15px;">Test URLs:</h6>
                    <div style="font-size: 11px;">
                        <div>‚Ä¢ <a href="http://127.0.0.1:8000/t/test/login" target="_blank">Login Page</a></div>
                        <div>‚Ä¢ <a href="http://127.0.0.1:8000/smartprep/dashboard/customize-website?website=15" target="_blank">Customize</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        function updatePreview() {
            const reviewText = document.getElementById("reviewText").value.replace(/\n/g, "<br>");
            const copyrightText = document.getElementById("copyrightText").value.replace(/\n/g, "<br>");
            const topColor = document.getElementById("topColor").value;
            const bottomColor = document.getElementById("bottomColor").value;
            const textColor = document.getElementById("textColor").value;
            
            const panel = document.getElementById("previewPanel");
            const review = document.getElementById("previewReview");
            const copyright = document.getElementById("previewCopyright");
            
            panel.style.background = `linear-gradient(135deg, ${topColor} 0%, ${bottomColor} 100%)`;
            review.innerHTML = reviewText;
            review.style.color = textColor;
            copyright.innerHTML = copyrightText;
            copyright.style.color = textColor;
            
            console.log("Preview updated successfully");
        }
        
        // Auto-update on color changes
        ["topColor", "bottomColor", "textColor"].forEach(id => {
            document.getElementById(id).addEventListener("change", updatePreview);
        });
        
        console.log("Multi-tenant customization demo loaded");
    </script>
</body>
</html>